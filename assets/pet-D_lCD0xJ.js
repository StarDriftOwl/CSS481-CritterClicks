import{r as l,j as e,R as se,a as te}from"./client-CsIn-7XU.js";const ae=()=>{const[j,$]=l.useState(""),[N,C]=l.useState("Pictures/blank.png"),[k,u]=l.useState(0),[E,T]=l.useState(0),[v,A]=l.useState("food"),[W,b]=l.useState([]),[Y,I]=l.useState(!1),[G,L]=l.useState(!1),[H,M]=l.useState(!1),[n,V]=l.useState("gallery"),[o,O]=l.useState("Stats"),[d,X]=l.useState("Stage"),[t,h]=l.useState(null),[_,q]=l.useState(""),[B,S]=l.useState({text:"Next evolution:",src:"Pictures/happycat.png"}),[p,z]=l.useState({foodbowl:{src:"Pictures/foodbowl.png",available:!0},waterbottle:{src:"Pictures/waterbottle.png",available:!0},mousetoy:{src:"Pictures/mousetoy.png",available:!0}}),r=l.useRef(null),J=(s,a)=>{const x=((a.includes("/")?a:`Pictures/${a}`).split("/").pop()||"").replace(/\.(png|jpg|jpeg)$/,""),ee=x.charAt(x.length-1),g=parseInt(ee),R=isNaN(g)?x:x.substring(0,x.length-1);return console.log(`Pet creation: ${s}, src: ${a}, base: ${R}, stage: ${isNaN(g)?"fully evolved":g}`),{name:s,src:a,base:R,stage:isNaN(g)?NaN:g,hunger:100,happiness:100,thirst:100,lvl:1,xp:0,isAlive:!0,hungerClicker:0,happinessClicker:0,thirstClicker:0}},m=s=>{const a=s.target;C(a.src)},K=()=>{if(N==="Pictures/blank.png"||j===""){I(!0);return}I(!1),V("game"),q(j);const s=J(j,N);if(h(s),isNaN(s.stage))S({text:"Your pet is fully evolved!",src:"Pictures/happycat.png"});else{const a=`Pictures/${s.base}${s.stage+1}.png`;S({text:"Next evolution:",src:a})}r.current&&clearInterval(r.current),r.current=setInterval(Q,1e4)},Q=()=>{if(!t)return;const s={...t};s.xp+=100,s.xp>=1e3&&(s.lvl+=1,s.xp=0),u(a=>a+E+1),s.hunger=Math.max(0,s.hunger+s.hungerClicker-1),s.happiness=Math.max(0,s.happiness+s.happinessClicker-1),s.thirst=Math.max(0,s.thirst+s.thirstClicker-1),h(s)};l.useEffect(()=>()=>{r.current&&clearInterval(r.current)},[]);const U=()=>{if(!t)return;const s={...t};switch(u(a=>a+s.lvl),s.xp+=1,s.xp>=1e3&&(s.lvl+=1,s.xp=0),v){case"food":s.hunger<100&&(s.hunger+=1);break;case"water":s.thirst<100&&(s.thirst+=1);break;case"play":s.happiness<100&&(s.happiness+=1);break}h(s)},P=(s,a)=>{if(k>=100){if(M(!1),z(i=>({...i,[a]:{...i[a],available:!1,src:"Pictures/soldout.png"}})),T(i=>i+1),t){const i={...t};switch(a){case"foodbowl":i.hungerClicker+=1,b(c=>[...c,"Food bowl"]);break;case"waterbottle":i.thirstClicker+=1,b(c=>[...c,"Water bottle"]);break;case"mousetoy":i.happinessClicker+=1,b(c=>[...c,"Mouse toy"]);break}h(i)}u(i=>i-100)}else M(!0)},f=s=>{A(s)},Z=()=>{if(t){if(!isNaN(t.stage)&&k<100)L(!0);else if(!isNaN(t.stage)){L(!1);const s=t.stage+1,a=`Pictures/${t.base}${s}.png`;console.log(`Evolving pet from ${t.src} to ${a}`),S({text:"Your pet is fully evolved!",src:"Pictures/happycat.png"});const i={...t,src:a,stage:s,lvl:t.lvl+3};h(i),C(a),u(c=>c-100)}}},y=(s,a)=>{O(a)},w=(s,a)=>{X(a)},D=s=>{window.open("./index.html","_self"),h(null),C("Pictures/blank.png"),$(""),u(0),T(0),b([]),r.current&&clearInterval(r.current)};return e.jsxs("div",{className:"game-container",children:[e.jsx("p",{className:`errmsg ${Y?"":"hide"}`,children:"Please choose a pet and a petname!"}),e.jsxs("div",{className:"flexContainer",children:[e.jsxs("div",{className:"flexContainerColumn",children:[e.jsxs("div",{id:"petDisplay",children:[e.jsx("img",{src:N,id:"pet",alt:"Selected pet",onClick:n==="game"?U:void 0}),e.jsx("br",{}),n==="gallery"?e.jsxs(e.Fragment,{children:[e.jsx("label",{htmlFor:"namePicker",children:"Pet Name:"}),e.jsx("input",{type:"text",id:"namePicker",value:j,onChange:s=>$(s.target.value)})]}):e.jsx("label",{children:_})]}),e.jsxs("div",{className:`${n!=="game"?"hide":""}`,id:"bottomBar",children:[e.jsx("button",{className:`stats tablinks ${o==="Stats"?"activeTabLink":""}`,onClick:s=>y(s,"Stats"),children:"Stats"}),e.jsx("button",{className:`stats tablinks ${o==="Levels"?"activeTabLink":""}`,onClick:s=>y(s,"Levels"),children:"Levels"}),e.jsx("button",{className:`stats tablinks ${o==="Bag"?"activeTabLink":""}`,onClick:s=>y(s,"Bag"),children:"Bag"}),e.jsx("span",{children:"     "}),e.jsx("button",{id:"food",className:`care ${v==="food"?"activeTabLink":""}`,onClick:()=>f("food"),children:e.jsx("img",{src:"Pictures/food.png",alt:"Food"})}),e.jsx("button",{id:"water",className:`care ${v==="water"?"activeTabLink":""}`,onClick:()=>f("water"),children:e.jsx("img",{src:"Pictures/water.png",alt:"Water"})}),e.jsx("button",{id:"play",className:`care ${v==="play"?"activeTabLink":""}`,onClick:()=>f("play"),children:e.jsx("img",{src:"Pictures/ball.png",alt:"Play"})}),e.jsxs("div",{id:"Stats",className:`stats tabcontent tab ${o!=="Stats"?"hide":""}`,children:[e.jsxs("p",{children:["Coins: ",e.jsx("span",{id:"coins",children:k})]}),e.jsxs("p",{children:["Clickers Active: ",e.jsx("span",{id:"clickerNo",children:E})]}),e.jsxs("p",{children:["Pet Level: ",e.jsx("span",{id:"petLvl",children:(t==null?void 0:t.lvl)||1}),"     Pet XP:",e.jsx("span",{id:"xp",children:(t==null?void 0:t.xp)||0}),"/1000"]})]}),e.jsxs("div",{id:"Levels",className:`stats tabcontent tab ${o!=="Levels"?"hide":""}`,children:[e.jsxs("p",{children:["Hunger: ",e.jsx("span",{id:"hunger",children:(t==null?void 0:t.hunger)||100}),"/100"]}),e.jsxs("p",{children:["Thirst: ",e.jsx("span",{id:"thirst",children:(t==null?void 0:t.thirst)||100}),"/100"]}),e.jsxs("p",{children:["Happiness:"," ",e.jsx("span",{id:"happiness",children:(t==null?void 0:t.happiness)||100}),"/100"]})]}),e.jsx("div",{id:"Bag",className:`stats tabcontent tab ${o!=="Bag"?"hide":""}`,children:e.jsxs("p",{children:["Items: ",e.jsx("span",{id:"itemBag",children:W.join(", ")})]})})]})]}),e.jsxs("div",{id:"gallery",className:`flexWrap tab ${n!=="gallery"?"hide":""}`,children:[e.jsx("img",{src:"Pictures/ghostcat1.png",className:"galleryCell",onClick:m,alt:"Ghost cat"}),e.jsx("img",{src:"Pictures/placeholder.png",className:"galleryCell",onClick:m,alt:"Placeholder pet"}),e.jsx("img",{src:"Pictures/didoo.png",className:"galleryCell",onClick:m,alt:"Didoo"}),e.jsx("img",{src:"Pictures/scream.jpg",className:"galleryCell",onClick:m,alt:"Scream"}),e.jsx("img",{src:"Pictures/evilcat1.png",className:"galleryCell",onClick:m,alt:"Evil Cat"})]}),e.jsxs("div",{className:`${n!=="game"?"hide":""}`,id:"shopTab",children:[e.jsx("button",{className:`shop tablinks ${d==="Stage"?"activeTabLink":""}`,onClick:s=>w(s,"Stage"),children:"Stage"}),e.jsx("button",{className:`shop tablinks ${d==="Item Shop"?"activeTabLink":""}`,onClick:s=>w(s,"Item Shop"),children:"Item Shop"}),e.jsx("button",{className:`shop tablinks ${d==="Pet Shop"?"activeTabLink":""}`,onClick:s=>w(s,"Pet Shop"),children:"Pet Shop"}),e.jsxs("div",{id:"Stage",className:`shop tabcontent tab ${d!=="Stage"?"hide":""}`,children:[e.jsx("h1",{children:B.text}),e.jsx("img",{src:B.src,className:"cell",onClick:Z,alt:"Evolution option"}),e.jsx("p",{children:isNaN((t==null?void 0:t.stage)||NaN)?"":"Cost: 100 coins"}),e.jsx("p",{id:"evoErr",className:`errmsg ${G?"":"hide"}`,children:"You do not have enough coins to buy this!"})]}),e.jsxs("div",{id:"Item Shop",className:`shop tabcontent tab ${d!=="Item Shop"?"hide":""}`,children:[e.jsxs("div",{className:"shopdisplay",children:[e.jsxs("div",{className:"shopCell",children:[e.jsx("img",{src:p.foodbowl.src,className:"cell",onClick:p.foodbowl.available?s=>P(s,"foodbowl"):void 0,alt:"Food bowl"}),e.jsx("p",{children:"Cost: 100 coins"})]}),e.jsxs("div",{className:"shopCell",children:[e.jsx("img",{src:p.waterbottle.src,className:"cell",onClick:p.waterbottle.available?s=>P(s,"waterbottle"):void 0,alt:"Water bottle"}),e.jsx("p",{children:"Cost: 100 coins"})]}),e.jsxs("div",{className:"shopCell",children:[e.jsx("img",{src:p.mousetoy.src,className:"cell",onClick:p.mousetoy.available?s=>P(s,"mousetoy"):void 0,alt:"Mouse toy"}),e.jsx("p",{children:"Cost: 100 coins"})]})]}),e.jsx("p",{id:"itemErr",className:`errmsg ${H?"":"hide"}`,children:"You do not have enough coins to buy this!"})]}),e.jsx("div",{id:"Pet Shop",className:`shop tabcontent tab ${d!=="Pet Shop"?"hide":""}`,children:e.jsxs("div",{className:"shopdisplay",children:[e.jsxs("div",{className:"shopCell",children:[e.jsx("img",{src:"Pictures/ghostcat1.png",className:"cell",alt:"Ghost cat"}),e.jsx("p",{children:"Cost: 100 coins"})]}),e.jsxs("div",{className:"shopCell",children:[e.jsx("img",{src:"Pictures/placeholder.png",className:"cell",alt:"Placeholder pet"}),e.jsx("p",{children:"Cost: 100 coins"})]}),e.jsxs("div",{className:"shopCell",children:[e.jsx("img",{src:"Pictures/didoo.png",className:"cell",alt:"Didoo"}),e.jsx("p",{children:"Cost: 100 coins"})]}),e.jsxs("div",{className:"shopCell",children:[e.jsx("img",{src:"Pictures/scream.jpg",className:"cell",alt:"Scream"}),e.jsx("p",{children:"Cost: 100 coins"})]}),e.jsxs("div",{className:"shopCell",children:[e.jsx("img",{src:"Pictures/evilcat1.png",className:"cell",alt:"Scream"}),e.jsx("p",{children:"Cost: 100 coins"})]})]})})]})]}),e.jsxs("div",{className:"button-container",children:[n==="game"&&e.jsx("button",{id:"main-menu",onClick:D,children:"Main Menu"}),n==="gallery"&&e.jsx("button",{id:"next",onClick:K,children:"Next"})]})]})},F=document.getElementById("root");if(!F)throw new Error("Failed to find the root element");se.createRoot(F).render(e.jsx(te.StrictMode,{children:e.jsx(ae,{})}));
